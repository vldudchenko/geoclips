<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoClips Admin Panel</title>
    <link rel="stylesheet" href="/admin/admin.css">
    
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="nav-tab active" onclick="switchTab('users')">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
            <button class="nav-tab" onclick="switchTab('videos')">üé¨ –í–∏–¥–µ–æ</button>
            <button class="nav-tab" onclick="switchTab('tags')">üè∑Ô∏è –¢–µ–≥–∏</button>
            <button class="nav-tab" onclick="switchTab('comments')">üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</button>
            <button class="logout-btn" onclick="logout()">üö™ –í—ã–π—Ç–∏</button>
        </div>
        

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
        <div id="tab-users" class="tab-content active">
            <div class="section">                
                <div class="search-filter-panel">
                    <input type="text" id="users-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π..." class="search-input">
                    <select id="users-sort" class="filter-select">
                        <option value="created_at">–ü–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</option>
                        <option value="display_name">–ü–æ –∏–º–µ–Ω–∏</option>
                        <option value="yandex_id">–ü–æ Yandex ID</option>
                    </select>
                    <select id="users-order" class="filter-select">
                        <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                        <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                    </select>
                    <button class="btn" onclick="searchUsers()">üîç –ü–æ–∏—Å–∫</button>
                    <button class="btn btn-secondary" onclick="loadUsers()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>

                <div class="export-panel">
                    <button class="btn btn-secondary" onclick="exportData('users', 'csv')">üì• –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button class="btn btn-secondary" onclick="exportData('users', 'json')">üì• –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                </div>

                <div id="users-container">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
                </div>

                <div class="pagination" id="users-pagination"></div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –í–∏–¥–µ–æ -->
        <div id="tab-videos" class="tab-content">
            <div class="section">                
                <div class="search-filter-panel">
                    <input type="text" id="videos-search" placeholder="–ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ..." class="search-input">
                    <input type="number" id="videos-min-views" placeholder="–ú–∏–Ω. –ø—Ä–æ—Å–º–æ—Ç—Ä—ã" class="filter-input">
                    <input type="number" id="videos-min-likes" placeholder="–ú–∏–Ω. –ª–∞–π–∫–∏" class="filter-input">
                    <select id="videos-sort" class="filter-select">
                        <option value="created_at">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è</option>
                        <option value="views_count">–ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º</option>
                        <option value="likes_count">–ü–æ –ª–∞–π–∫–∞–º</option>
                    </select>
                    <select id="videos-order" class="filter-select">
                        <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                        <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                    </select>
                    <button class="btn" onclick="searchVideos()">üîç –ü–æ–∏—Å–∫</button>
                    <button class="btn btn-secondary" onclick="loadVideos()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>

                <div class="export-panel">
                    <button class="btn btn-secondary" onclick="exportData('videos', 'csv')">üì• –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button class="btn btn-secondary" onclick="exportData('videos', 'json')">üì• –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                    <button class="btn btn-danger" onclick="bulkDeleteVideos()" id="bulk-delete-videos-btn" disabled>
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
                    </button>
                </div>

                <div id="videos-container">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ...</div>
                </div>

                <div class="pagination" id="videos-pagination"></div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –¢–µ–≥–∏ -->
        <div id="tab-tags" class="tab-content">
            <div class="section">                
                <button class="btn" onclick="loadTags()">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                <div class="tag-form">
                    <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥</h3>
                    <div class="form-group">
                        <input class="search-input" type="text" id="new-tag-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞..." maxlength="50" onkeypress="if(event.key==='Enter') createTag()">
                        <button class="btn btn-primary" onclick="createTag()">–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥</button>
                    </div>
                    <div class="form-help">
                        <small>üí° –¢–µ–≥ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω</small>
                    </div>                    
                </div>
                <div class="export-panel">
                    <button class="btn btn-secondary" onclick="exportData('tags', 'csv')">üì• –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button class="btn btn-secondary" onclick="exportData('tags', 'json')">üì• –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                    <button class="btn btn-danger" onclick="bulkDeleteTags()" id="bulk-delete-tags-btn" disabled>
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="btn btn-secondary" onclick="selectAllTags()" id="select-all-btn">
                        ‚úÖ –í—ã–±—Ä–∞—Ç—å –≤—Å–µ
                    </button>
                    <button class="btn btn-secondary" onclick="clearTagSelection()" id="clear-selection-btn">
                        üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä
                    </button>
                </div>
                <div id="tags-container">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–≥–æ–≤...</div>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
        <div id="tab-comments" class="tab-content">
            <div class="section">
                <button class="btn" onclick="loadComments()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                
                <div class="filters">
                    <div class="form-group">
                        <label>–§–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥–µ–æ:</label>
                        <select id="comment-video-filter" onchange="loadComments()" class="filter-select">
                            <option value="">–í—Å–µ –≤–∏–¥–µ–æ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                        <select id="comment-sort" onchange="loadComments()" class="filter-select">
                            <option value="created_at:desc">–ù–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ</option>
                            <option value="created_at:asc">–°—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–µ</option>
                        </select>
                    </div>
                </div>
                
                <div class="stats-row">
                    <div class="stat-inline">
                        –í—Å–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: <strong id="comments-total">0</strong>
                    </div>
                    <div class="stat-inline">
                        –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞: <strong id="comments-recent">0</strong>
                    </div>
                </div>
                
                <div class="export-panel">
                    <button class="btn btn-secondary" onclick="exportData('comments', 'csv')">üì• –≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button class="btn btn-secondary" onclick="exportData('comments', 'json')">üì• –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
                </div>
                
                <div id="comments-container">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤...</div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <script src="/admin/admin-unified.js"></script>
</body>
</html>
